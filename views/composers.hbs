<!-- composers.hbs -->

{{!-- 
Citation for the composers.hbs file
Date: 3/1/24
Based on the code provided in CS 340 // nodejs_starter_app
This code was copied and modified for CRUD operations
Source URL: https://github.com/osu-cs340-ecampus/nodejs-starter-app 
--}}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

{{!-- Delete --}}
<div>
    <h2>Composers Table:</h2>
    <table id="composers-table">
    <h3 style="color:#b62525">Note - refresh browser after deleting a table row to see results</h3>

        {{!-- Header section --}}
        <thead>

            {{!-- For just the first row, we print each key of the row object as a header cell so we
            know what each column means when the page renders --}}
            <tr>
                {{#each data.[0]}}
                <th>
                    {{@key}}
                </th>
                {{/each}}
                <th>delete</th>
            </tr>
        </thead>

        {{!-- Body section --}}
        <tbody>

            {{!-- For each row, print each field, in order --}}
            {{#each data}}
            <tr data-value={{this.composerID}}>
                <td>{{this.composerID}}</td>
                <td>{{this.firstName}}</td>
                <td>{{this.lastName}}</td>
                <td><button onclick="deleteComposer({{this.composerID}})" class="delete">Delete</button></td>
            </tr>
            {{/each}}
        </tbody>
    </table>
    <script src="./js/delete_composer.js"></script>
</div>

 {{!-- HTML form to add a composer --}}
 <div>
    <h2>Add a Composer:</h2>
    <p>To add a new composer, please enter their information below and click submit.</p>
    <form id="add-composer-form" method="POST" action="/add-composer-form">

        <label for="input-firstName">firstName: </label>
        <input type="text" name="input-firstName" id="input-firstName" required>
        
        <label for="input-lastName">lastName: </label>
        <input type="text" name="input-lastName" id="input-lastName" required>

        <input type="submit" class="submit" >

    </form>
 </div>

 {{!-- HTML form to update a composer --}}
 <div>
    <h2>Update a Composer:</h2>
    <p>To update composer, please enter their information below and click submit.</p>
    <form id="update-composer-form" method="POST" action="/update-composer-form">

    {{!-- Dynamic select box for composerID --}}
        <label for="update-composerID">composerID: </label>
        <select name="update-composerID" id="update-composerID">
            <option value="test">Select a Composer</option required>
            {{#each data}}
            <option value="{{this.composerID}}">[{{this.composerID}}] - {{this.firstName}} {{this.lastName}}</option>
            {{/each}}
        </select>

        <label for="update-firstName">First Name: </label>
        <input type="text" name="update-firstName" id="update-firstName">
        
        <label for="update-lastName">Last Name: </label>
        <input type="text" name="update-lastName" id="update-lastName">

        <input type="submit" class="submit" >

    </form>
 </div>


